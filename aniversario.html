<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>Feliz Aniversário ❤️</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Great+Vibes&display=swap');
    body {
      margin: 0;
      overflow: hidden;
      background: black;
    }
    canvas {
      display: block;
      position: absolute;
      top: 0;
      left: 0;
      z-index: 0;
    }
    h1 {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      font-size: 60px;
      font-family: 'Great Vibes', cursive;
      color: white;
      text-shadow: 0 0 20px pink, 0 0 40px red, 0 0 60px purple;
      z-index: 1;
      animation: pulse 2s infinite;
      text-align: center;
      width: 100%;
    }
    @keyframes pulse {
      0% { transform: translate(-50%, -50%) scale(1); }
      50% { transform: translate(-50%, -50%) scale(1.1); }
      100% { transform: translate(-50%, -50%) scale(1); }
    }
    body::before {
      content: "";
      position: fixed;
      top: 0; left: 0;
      width: 100%; height: 100%;
      background: linear-gradient(270deg, #ff758c, #ff7eb3, #ff65a3, #ff96a3, #fbc2eb, #a6c1ee);
      background-size: 1200% 1200%;
      animation: gradientShift 20s ease infinite;
      z-index: -2;
    }
    @keyframes gradientShift {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }
  </style>
</head>
<body>
<h1>Feliz Aniversário, Meu Amor ❤️</h1>
<canvas id="canvas"></canvas>
<audio id="music" autoplay loop>
  <source src="https://cdn.pixabay.com/download/audio/2022/03/15/audio_7e64b3f8ed.mp3?filename=piano-melody-11044.mp3" type="audio/mpeg">
</audio>


<script>
const canvas = document.getElementById("canvas");
const ctx = canvas.getContext("2d");

let w = window.innerWidth;
let h = window.innerHeight;
canvas.width = w;
canvas.height = h;

let particles = [];
let hearts = [];

const opts = {
  fireworkParticles: 80,
  particleLife: 90,
  particleSpeed: 5,
  heartCount: 20
};

// ---------- FOGOS ----------
function Particle(x, y, color) {
  this.x = x;
  this.y = y;
  this.vx = (Math.random() - 0.5) * opts.particleSpeed * 2;
  this.vy = (Math.random() - 0.5) * opts.particleSpeed * 2;
  this.life = opts.particleLife;
  this.color = color;
}

Particle.prototype.update = function () {
  this.x += this.vx;
  this.y += this.vy;
  this.vy += 0.05; // gravidade
  this.life--;
};

Particle.prototype.draw = function () {
  ctx.fillStyle = this.color;
  ctx.fillRect(this.x, this.y, 2, 2);
};

function createFirework(x, y) {
  let hue = Math.random() * 360;
  for (let i = 0; i < opts.fireworkParticles; i++) {
    particles.push(new Particle(x, y, `hsl(${hue},100%,50%)`));
  }
}

// ---------- CORAÇÕES ----------
function Heart(x, y) {
  this.x = x;
  this.y = y;
  this.size = Math.random() * 20 + 10;
  this.speed = Math.random() * 1 + 0.5;
  this.opacity = Math.random() * 0.5 + 0.5;
}

Heart.prototype.update = function () {
  this.y -= this.speed;
  if (this.y < -20) {
    this.y = h + 20;
    this.x = Math.random() * w;
  }
};

Heart.prototype.draw = function () {
  ctx.save();
  ctx.translate(this.x, this.y);
  ctx.scale(this.size / 20, this.size / 20);
  ctx.beginPath();
  ctx.moveTo(0, -10);
  ctx.bezierCurveTo(10, -20, 25, -5, 0, 15);
  ctx.bezierCurveTo(-25, -5, -10, -20, 0, -10);
  ctx.fillStyle = `rgba(255,0,100,${this.opacity})`;
  ctx.fill();
  ctx.restore();
};

// ---------- INICIALIZAÇÃO ----------
function init() {
  for (let i = 0; i < opts.heartCount; i++) {
    hearts.push(new Heart(Math.random() * w, Math.random() * h));
  }
}

// ---------- ANIMAÇÃO ----------
function anim() {
  ctx.clearRect(0, 0, w, h);

  // Corações
  hearts.forEach(h => {
    h.update();
    h.draw();
  });

  // Fogos
  if (Math.random() < 0.05) {
    createFirework(Math.random() * w, Math.random() * h * 0.5);
  }

  particles.forEach((p, i) => {
    p.update();
    p.draw();
    if (p.life <= 0) particles.splice(i, 1);
  });

  requestAnimationFrame(anim);
}

init();
anim();

window.onresize = function () {
  w = window.innerWidth;
  h = window.innerHeight;
  canvas.width = w;
  canvas.height = h;
};
</script>
</body>
</html>
